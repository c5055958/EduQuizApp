{% extends "base.html" %}
{% block title %}View Questions{% endblock %}

{% block content %}
<style>
    /* Page background */
    body {
        background: linear-gradient(135deg, #667eea, #764ba2);
        min-height: 100vh;
        margin-bottom: 2rem;
    }

    /* Page header */
    .page-header {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: #fff;
        border-radius: 22px;
        padding: 28px 32px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        animation: fadeDown 0.8s ease;
    }

    /* Card styling */
    .table-card {
        border-radius: 22px;
        background: #ffffff;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        animation: fadeUp 0.8s ease;
        margin-top: 20px;
    }

    /* Buttons */
    .btn-back, .btn-edit, .btn-delete {
        border-radius: 50%;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.35s ease;
        color: #fff;
        border: none;
        width: 35px;
        height: 35px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        margin: 0 2px;
    }

    .btn-back {
        background: linear-gradient(135deg, #6c757d, #495057);
    }
    .btn-back:hover { transform: scale(1.05); }

    .btn-edit {
        background: linear-gradient(135deg, #17a2b8, #138496);
    }
    .btn-edit:hover { transform: scale(1.1); }

    .btn-delete {
        background: linear-gradient(135deg, #dc3545, #c82333);
    }
    .btn-delete:hover { transform: scale(1.1); }

    /* Table hover */
    .table-hover tbody tr {
        transition: background 0.3s ease, transform 0.3s ease;
        cursor: pointer;
    }
    .table-hover tbody tr:hover {
        background: #eef2ff;
        transform: scale(1.01);
    }

    /* Correct option badge */
    .badge-correct {
        background-color: #000;
        color: #fff;
        font-weight: bold;
        padding: 5px 10px;
        border-radius: 12px;
    }

    /* Actions container */
    .actions-container {
        display: flex;
        justify-content: center;
        gap: 5px;
    }

    /* Animations */
    @keyframes fadeDown {
        from { opacity: 0; transform: translateY(-30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>

<!-- Header -->
<div class="page-header mb-4 d-flex justify-content-between align-items-center">
    <h3 class="fw-bold mb-0 text-white">üìÑ Quiz Questions</h3>
    <a href="{{ url_for('module_quizzes_admin', module_id=quiz.module_id) }}" class="btn btn-back btn-animated">
        ‚¨Ö
    </a>
</div>

<!-- Quiz Badge -->
<div class="mb-3 text-center">
    <span class="badge bg-light text-dark fs-6 px-4 py-2 shadow-sm">
        üìù Quiz: <strong>{{ quiz.title }}</strong>
    </span>
</div>

<!-- Questions Table -->
<div class="card table-card">
    <div class="card-body p-0">
        <table class="table table-hover align-middle mb-0">
            <thead class="table-light">
                <tr>
                    <th>#</th>
                    <th>Question</th>
                    <th>Option 1</th>
                    <th>Option 2</th>
                    <th>Option 3</th>
                    <th>Option 4</th>
                    <th>Correct Option</th>
                    <th class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for q in questions %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ q.question }}</td>
                    <td>{{ q.option1 }}</td>
                    <td>{{ q.option2 }}</td>
                    <td>{{ q.option3 }}</td>
                    <td>{{ q.option4 }}</td>
                    <td>
                        <span class="badge-correct">{{ q.correct_option }}</span>
                    </td>
                    <td class="text-center">
                        <div class="actions-container">
                            <a href="{{ url_for('edit_question', question_id=q.id) }}" class="btn btn-edit">‚úè</a>
                            <a href="{{ url_for('delete_question', question_id=q.id) }}" class="btn btn-delete">üóë</a>
                        </div>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="8" class="text-center text-muted py-4">
                        No questions added yet.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}